Version 4
SHEET 1 1924 680
WIRE 576 -64 464 -64
WIRE 704 -64 576 -64
WIRE 784 -64 704 -64
WIRE 784 -32 784 -64
WIRE 576 -16 576 -64
WIRE 704 -16 704 -64
WIRE 1152 48 1072 48
WIRE 1152 64 1152 48
WIRE 448 80 352 80
WIRE 576 80 576 48
WIRE 576 80 544 80
WIRE 608 80 576 80
WIRE 704 80 704 48
WIRE 704 80 688 80
WIRE 784 80 784 48
WIRE 784 80 704 80
WIRE 1072 96 1072 48
WIRE 352 128 352 80
FLAG -64 176 0
FLAG -64 96 +24V
FLAG 352 128 0
FLAG 464 -64 +24V
FLAG -64 368 0
FLAG -64 288 PWM
FLAG 464 128 PWM
FLAG 1072 176 0
FLAG 784 -64 vload
SYMBOL voltage -64 80 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
SYMATTR InstName V1
SYMATTR Value 27
SYMATTR SpiceLine Rser=.1 Cpar=100u
SYMBOL res 768 -48 R0
SYMATTR InstName R1
SYMATTR Value 2.88
SYMBOL nmos 544 128 M270
SYMATTR InstName M1
SYMATTR Value BSC0906NS
SYMBOL voltage -64 272 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
SYMATTR InstName V2
SYMATTR Value PULSE(0 12 0 10u 10u {DC} 1m)
SYMBOL ind 704 64 R90
WINDOW 0 5 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName L1
SYMATTR Value 4.7µ
SYMATTR SpiceLine Ipk=10 Rser=0.0087 Rpar=1647.97 Cpar=0
SYMBOL bv 1072 80 R0
SYMATTR InstName B1
SYMATTR Value V=idt((V(vload)*I(R1) - delay(V(vload)*I(R1), 1m))/1m)
SYMBOL cap 688 -16 R0
SYMATTR InstName C1
SYMATTR Value 220µ
SYMATTR SpiceLine Rser=100m
TEXT -98 392 Left 2 !.tran 0 4m 0 1u
TEXT 672 400 Left 2 !.step param DC list 10u 20u 40u 80u 160u 320u 640u 1000u
